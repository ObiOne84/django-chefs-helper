{% extends "base.html" %}
{% block content %}

{% load crispy_forms_tags %}

<div class="container-lg">

    <div class="row">
        <div class="col-md-6 col-12 print-size">

            <form method="post" enctype="multipart/form-data" action="{% url 'update_recipe' slug=recipe.slug %}">
                {% csrf_token %}

                {{ update_recipe_form.as_p }}

                <div>

                    {{ ingredient_formset.management_form }}
                    {{ ingredient_formset.non_form_errors }}
                    {{ recipe.title }} Ingredients:
                    {{ ingredient_formset.as_table }}
                    <!-- Add a button to dynamically add new forms -->
                    <button type="button" id="add-ingredient">Add Ingredient</button>
                </div>

                <button type="submit">Submit</button>
            </form>
            <button>Delete</button>

            <!-- <hr>
            <h1>Update Recipe</h1>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ update_recipe_form.as_p }}
                {{ ingredient_formset.as_p }} -->

            <!-- Display the formset using a loop -->
            <!-- {% for form in update_form.ingredient_formset %}
                {{ form.as_table }}
                {% endfor %} -->

            <!-- {{ update_form.ingredient_formset.management_form }} {# Include the management form for the formset #} -->
            <!-- 
                <button type="submit">Update Recipe</button>
            </form> -->


        </div>
    </div>
</div>

{% endblock content %}